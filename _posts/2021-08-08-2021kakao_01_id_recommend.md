---
title: "문제 1 – 아이디 추천"
excerpt: "네이버 클라우드 기술블로그에 작성된 네트워크 패킷 제어 기술을 보고 재작성하였습니다."

categories:
  - '2021_kakao_coding_test'
tags:
  - algorithm
  - 코딩테스트

date: 2021-08-08
last_modified_at: 2021-08-08
---

# 개요 

2021 카카오 신입공채 1차 온라인 코딩 테스트 문제를 하나씩 풀고 풀이를 올려보려 합니다. 
제 방식이 정답은 아니고 더 좋은 방법도 있을껍니다. 
풀이법은 참고용으로 봐주세요. 
더 좋은 방법이 있으면 조언도 부탁드립니다. 

그럼 1번 문제부터 시작하겠습니다! 

# 문제 1 신규 아이디 추천

## 문제 설명

카카오에 입사한 신입 개발자 `네오`는 "카카오계정개발팀"에 배치되어, 카카오 서비스에 가입하는 유저들의 아이디를 생성하는 업무를 담당하게 되었습니다. "네오"에게 주어진 첫 업무는 새로 가입하는 유저들이 카카오 아이디 규칙에 맞지 않는 아이디를 입력했을 때, 입력된 아이디와 유사하면서 규칙에 맞는 아이디를 추천해주는 프로그램을 개발하는 것입니다.
다음은 카카오 아이디의 규칙입니다.

* 아이디의 길이는 3자 이상 15자 이하여야 합니다.
* 아이디는 알파벳 소문자, 숫자, 빼기(-), 밑줄(_), 마침표(.) 문자만 사용할 수 있습니다.
* 단, 마침표(.)는 처음과 끝에 사용할 수 없으며 또한 연속으로 사용할 수 없습니다.

"네오"는 다음과 같이 7단계의 순차적인 처리 과정을 통해 신규 유저가 입력한 아이디가 카카오 아이디 규칙에 맞는 지 검사하고 규칙에 맞지 않은 경우 규칙에 맞는 새로운 아이디를 추천해 주려고 합니다.
신규 유저가 입력한 아이디가 `new_id` 라고 한다면,

```
1단계 new_id의 모든 대문자를 대응되는 소문자로 치환합니다.
2단계 new_id에서 알파벳 소문자, 숫자, 빼기(-), 밑줄(_), 마침표(.)를 제외한 모든 문자를 제거합니다.
3단계 new_id에서 마침표(.)가 2번 이상 연속된 부분을 하나의 마침표(.)로 치환합니다.
4단계 new_id에서 마침표(.)가 처음이나 끝에 위치한다면 제거합니다.
5단계 new_id가 빈 문자열이라면, new_id에 "a"를 대입합니다.
6단계 new_id의 길이가 16자 이상이면, new_id의 첫 15개의 문자를 제외한 나머지 문자들을 모두 제거합니다.
     만약 제거 후 마침표(.)가 new_id의 끝에 위치한다면 끝에 위치한 마침표(.) 문자를 제거합니다.
7단계 new_id의 길이가 2자 이하라면, new_id의 마지막 문자를 new_id의 길이가 3이 될 때까지 반복해서 끝에 붙입니다.
```

예를 들어, new_id 값이 "...!@BaT#*..y.abcdefghijklm" 라면, 위 7단계를 거치고 나면 new_id는 아래와 같이 변경됩니다.

1단계 대문자 'B'와 'T'가 소문자 'b'와 't'로 바뀌었습니다.
`"...!@BaT#*..y.abcdefghijklm"` → `"...!@bat#*..y.abcdefghijklm"`

2단계 '!', '@', '#', '*' 문자가 제거되었습니다.
`"...!@bat#*..y.abcdefghijklm"` → `"...bat..y.abcdefghijklm"`

3단계 '...'와 '..' 가 '.'로 바뀌었습니다.
`"...bat..y.abcdefghijklm"` → `".bat.y.abcdefghijklm"`

4단계 아이디의 처음에 위치한 '.'가 제거되었습니다.
`".bat.y.abcdefghijklm"` → `"bat.y.abcdefghijklm"`

5단계 아이디가 빈 문자열이 아니므로 변화가 없습니다.
`"bat.y.abcdefghijklm"` → `"bat.y.abcdefghijklm"`

6단계 아이디의 길이가 16자 이상이므로, 처음 15자를 제외한 나머지 문자들이 제거되었습니다.
`"bat.y.abcdefghijklm"` → `"bat.y.abcdefghi"`

7단계 아이디의 길이가 2자 이하가 아니므로 변화가 없습니다.
`"bat.y.abcdefghi"` → `"bat.y.abcdefghi"`

따라서 신규 유저가 입력한 new_id가 "...!@BaT#*..y.abcdefghijklm"일 때, 네오의 프로그램이 추천하는 새로운 아이디는 "bat.y.abcdefghi" 입니다.

## [문제]

신규 유저가 입력한 아이디를 나타내는 new_id가 매개변수로 주어질 때, "네오"가 설계한 7단계의 처리 과정을 거친 후의 추천 아이디를 return 하도록 solution 함수를 완성해 주세요.

##[제한사항]

new_id는 길이 1 이상 1,000 이하인 문자열입니다.
new_id는 알파벳 대문자, 알파벳 소문자, 숫자, 특수문자로 구성되어 있습니다.
new_id에 나타날 수 있는 특수문자는 -_.~!@#$%^&*()=+[{]}:?,<>/ 로 한정됩니다.

##[입출력 예]

| no | new_id | result |
|------|---|---|
| 예1 | "...!@BaT#*..y.abcdefghijklm" | "bat.y.abcdefghi" |
| 예2 | "z-+.^." | "z--" |
| 예3 | "=.=" | "aaa" |
| 예4 | "123_.def" | "123_.def" |
| 예5 | "abcdefghijklmn.p" | "abcdefghijklmn" |

## 입출력 예에 대한 설명

### 입출력 예 #1

문제의 예시와 같습니다.

### 입출력 예 #2

7단계를 거치는 동안 new_id가 변화하는 과정은 아래와 같습니다.

1단계 변화 없습니다.
2단계 `"z-+.^."` → `"z-.."`
3단계 `"z-.."` → `"z-."`
4단계 `"z-."` → `"z-"`
5단계 변화 없습니다.
6단계 변화 없습니다.
7단계 `"z-"` → `"z--"`

### 입출력 예 #3

7단계를 거치는 동안 new_id가 변화하는 과정은 아래와 같습니다.

1단계 변화 없습니다.
2단계 `"=.="` → `"."`
3단계 변화 없습니다.
4단계 `"."` → `""` (new_id가 빈 문자열이 되었습니다.)
5단계 `""` → `"a"`
6단계 변화 없습니다.
7단계 `"a"` → `"aaa"`

### 입출력 예 #4

1단계에서 7단계까지 거치는 동안 new_id("123_.def")는 변하지 않습니다. 즉, new_id가 처음부터 카카오의 아이디 규칙에 맞습니다.

### 입출력 예 #5

1단계 변화 없습니다.
2단계 변화 없습니다.
3단계 변화 없습니다.
4단계 변화 없습니다.
5단계 변화 없습니다.
6단계 `"abcdefghijklmn.p"` → `"abcdefghijklmn."` → `"abcdefghijklmn"`
7단계 변화 없습니다.

# 풀이 

```python 
import re

def solution(new_id):
    answer = new_id

    # 1단계 new_id의 모든 대문자를 대응되는 소문자로 치환합니다.
    answer = answer.lower()

    # 2단계 new_id에서 알파벳 소문자, 숫자, 빼기(-), 밑줄(_), 마침표(.)를 제외한 모든 문자를 제거합니다.
    answer = re.sub('[^0-9a-z-_.]', '', answer)

    # 3단계 new_id에서 마침표(.)가 2번 이상 연속된 부분을 하나의 마침표(.)로 치환합니다.
    answer = re.sub('(([.])\\2{1,})', '.', answer)

    # 4단계 new_id에서 마침표(.)가 처음이나 끝에 위치한다면 제거합니다.
    if answer[0] == '.': answer = answer[1:]
    if answer != '' and answer[-1] == '.': answer = answer[:-1]

    # 5단계 new_id가 빈 문자열이라면, new_id에 "a"를 대입합니다.
    if answer == '' : answer = 'a'

    # 6단계 new_id의 길이가 16자 이상이면, new_id의 첫 15개의 문자를 제외한 나머지 문자들을 모두 제거합니다.
    # 만약 제거 후 마침표(.)가 new_id의 끝에 위치한다면 끝에 위치한 마침표(.) 문자를 제거합니다.
    if len(answer) >= 16 :
        answer = answer[:15]
        if answer[-1] == '.': answer = answer[:-1]

    # 7단계 new_id의 길이가 2자 이하라면, new_id의 마지막 문자를 new_id의 길이가 3이 될 때까지 반복해서 끝에 붙입니다.
    if len(answer) <= 2:
        while len(answer) != 3:
            answer += answer[-1]

    #print(answer)

    return answer

def main():
    testcases = [
        ["...!@BaT#*..y.abcdefghijklm", "bat.y.abcdefghi"],
        ["z-+.^.", "z--"],
        ["=.=", "aaa"],
        ["123_.def", "123_.def"],
        ["abcdefghijklmn.p", "abcdefghijklmn"]
    ]

    num = 1
    for tc in testcases:
        print("* %d." % num)
        if solution(tc[0]) == tc[1]:
            print("  - success")
        else:
            print("  - fail")
        num += 1

if __name__ == '__main__':
    main()
```

1번 문제답게 많이 어렵지는 않은 문제입니다. 입력된 문장을 조건에 맞게 바꿔주면 되겠습니다. 

## 1단계 

1단계는 new_id의 모든 대문자를 대응되는 소문자로 치환해야 합니다. lower 함수를 이용해 쉽게 변환할 수 있습니다. 
```python
    answer = answer.lower()
```

## 2단계 

2단계는 new_id에서 알파벳 소문자, 숫자, 빼기(-), 밑줄(_), 마침표(.)를 제외한 모든 문자를 제거해야합니다. 

python 라이브러리의 re를 통해 정규표현식을 사용할 수 있습니다. 허용되는 문자는 아래와 같이 정규표현식을 작성할 수 있습니다. 
* 알파벳 소문자 : `a-z` 
* 숫자 : `0-9`
* 빼기 : `-`
* 밑줄 : `_`
* 마침표 : `.`

위의 표현식을 사용하여 해당 문자열만 포함시키고 나머제 문자를 제외시키면 되겠습니다. 
answer 문자열에서 위의 표현식을 제외한 나머지 문자를 '' 으로 변경해줍니다.
```python
    answer = re.sub('[^0-9a-z-_.]', '', answer)
```

## 3단계 

3단계는 new_id에서 마침표(.)가 2번 이상 연속된 부분을 하나의 마침표(.)로 치환해야합니다. 
이 역시 정규표현식으로 변경할 수 있습니다. 
해당 정규표현식은 구글링으로 찾았습니다. 

아래의 식으로 answer에서 `.`이 두번 이상 반복되는 부분을 `.`으로 치환합니다. 
```python
    answer = re.sub('(([.])\\2{1,})', '.', answer)
```
## 4단계 

4단계는 new_id에서 마침표(.)가 처음이나 끝에 위치한다면 됩니다. 
맨앞과 맨뒤의 문자열을 보고 제거해줍니다.

``` python
    if answer[0] == '.': answer = answer[1:]
    if answer != '' and answer[-1] == '.': answer = answer[:-1]
```

## 5단계

5단계는 new_id가 빈 문자열이라면, new_id에 "a"를 대입해주면 됩니다. 

```python
    if answer == '' : answer = 'a'
```

## 6단계 

6단계는 new_id의 길이가 16자 이상이면, new_id의 첫 15개의 문자를 제외한 나머지 문자들을 제거합니다. 
만약 제거 후 마침표(.)가 new_id의 끝에 위치한다면 끝에 위치한 마침표(.) 문자를 제거해줍니다. 

```python
    if len(answer) >= 16 :
        answer = answer[:15]
        if answer[-1] == '.': answer = answer[:-1]
```

## 7단계 

마지막 단계입니다. 
new_id의 길이가 2자 이하라면, while 문을 이용하여 new_id의 마지막 문자를 new_id의 길이가 3이 될 때까지 반복해서 끝에 붙입니다.

```python
    if len(answer) <= 2:
        while len(answer) != 3:
            answer += answer[-1]
```

# 참고 

* https://tech.kakao.com/2021/01/25/2021-kakao-recruitment-round-1/
